<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Para Raiveli</title>
<style>
:root {
  --bg1: #000000;
  --msgColor: #ff0000; /* Letras en color rojo */
  --tapMsgColor: #ff0000; /* Color del mensaje al tocar */
}

html, body {
  margin: 0;
  height: 100%;
  width: 100%;
}

body {
  background: var(--bg1);
  overflow: hidden;
  font-family: 'Courier New', Courier, monospace;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
  position: relative;
}

.mensaje {
  position: absolute;
  top: -50px;
  font-size: 20px;
  font-weight: 800;
  color: var(--msgColor);
  text-shadow: 2px 2px 6px rgba(0,0,0,.45);
  animation: caer linear forwards;
  opacity: 0.92;
  white-space: nowrap;
  pointer-events: none;
}

@keyframes caer {
  from {
    transform: translateY(-50px);
    opacity: 0.92;
  }
  to {
    transform: translateY(110vh);
    opacity: 0.1; /* Reducir opacidad al final para efecto de desvanecimiento */
  }
}

.fondoTexto {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 4rem;
  font-weight: 900;
  color: rgba(255,0,0,0.4);
  pointer-events: none;
  user-select: none;
  text-align: center;
  text-shadow: 2px 2px 10px rgba(255,0,0,0.6);
}

.btn {
  position: fixed;
  right: 12px;
  bottom: 12px;
  padding: 10px 14px;
  border-radius: 999px;
  background: rgba(255,255,255,.2);
  border: 1px solid rgba(255,255,255,.5);
  backdrop-filter: blur(8px);
  font-weight: 700;
  cursor: pointer;
}
</style>
</head>
<body>

<div class="fondoTexto">Para Raiveli</div>
<button class="btn" id="toggle">革 Pausar</button>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const mensajeLluvia = "Te quiero ";
  const mensajeTap = "my type";

  let activo = true;
  const toggle = document.getElementById('toggle');
  toggle.addEventListener('click', () => {
    activo = !activo;
    toggle.textContent = activo ? "革 Pausar" : "讹 Reanudar";
  });

  function crearMensaje(texto, color, xPos) {
    if (!activo) return;

    const el = document.createElement("div");
    el.className = "mensaje";
    el.textContent = texto;

    // Usar la posici贸n x que se le pasa, o generar una nueva
    const margen = 10;
    const x = xPos || (Math.random() * (window.innerWidth - margen * 2) + margen);
    el.style.left = x + "px";

    if (color) {
      el.style.color = color;
    }

    const duracion = 1 + Math.random() * 1.5;
    const tam = 16 + Math.random() * 15;
    el.style.animationDuration = duracion + "s";
    el.style.fontSize = tam + "px";
    el.style.transform = "rotate(" + (Math.random()*10 - 5) + "deg)";
    
    document.body.appendChild(el);
    setTimeout(() => el.remove(), duracion * 1000 + 100);
  }

  // Generar varias columnas de "Te quiero"
  function crearColumna() {
    if (!activo) return;
    const numMensajes = 5 + Math.random() * 5; // Cantidad de mensajes por columna
    const x = Math.random() * (window.innerWidth - 20) + 10; // Posici贸n horizontal aleatoria
    
    for (let i = 0; i < numMensajes; i++) {
      setTimeout(() => {
        crearMensaje(mensajeLluvia, 'var(--msgColor)', x);
      }, i * 150); // Retraso entre mensajes para crear el efecto de "rastro"
    }
  }

  // Lluvia constante de columnas
  setInterval(crearColumna, 500); // Crea una nueva columna cada 500ms

  // Lluvia intensa de "my type" al hacer clic
  document.body.addEventListener('click', () => {
    for (let i = 0; i < 200; i++) {
      crearMensaje(mensajeTap, 'var(--tapMsgColor)');
    }
  });
});
</script>
</body>
</html>
